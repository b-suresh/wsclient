group 'com.bsuresh.util'
version '1.0-SNAPSHOT'

apply plugin: 'java'
apply plugin :'no.nils.wsdl2java'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
}

buildscript{
    repositories{
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath 'no.nils:wsdl2java:0.10'
    }
}

dependencies(){
    testCompile 'junit:junit:+'
}

wsdl2java{
    wsdlsToGenerate = [
            ['-p','com.bsuresh.util.wsclient', '-autoNameResolution','http://wsf.cdyne.com/WeatherWS/Weather.asmx?WSDL']
    ]
    generatedWsdlDir = file("$projectDir/generatedsources")
    //wsdlDir = file("$projectDir/src/main/resources/wsdl")
    locale = Locale.US
}

wsdl2javaExt {
    cxfVersion = "2.5.1"
}

task fatJar(type: Jar) {
    baseName = project.name + '-all'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}